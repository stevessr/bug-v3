import{d as e,u as t,r as l,m as a,o as s,c as o,a as r,b as n,e as i,F as u,h as d,g as c,t as g,p,f as v,v as m,q as b,s as x,i as y,n as f,j as h,k,l as w}from"./main.js";const C={class:"min-h-screen bg-gray-50"},j={class:"bg-white shadow-sm border-b"},I={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},M={class:"flex justify-between items-center py-6"},D={class:"flex gap-3"},z={class:"bg-white border-b border-gray-200"},S={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},N={class:"flex space-x-8"},E=["onClick"],B={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},T={key:0,class:"space-y-8"},U={class:"bg-white rounded-lg shadow-sm border"},A={class:"p-6 space-y-6"},O={class:"flex items-center justify-between"},F={class:"flex items-center gap-3"},R=["value"],G={class:"text-sm text-gray-600 w-12"},J={class:"flex items-center justify-between"},L=["value"],Q={class:"flex items-center justify-between"},Z={class:"relative inline-flex items-center cursor-pointer"},H=["checked"],Y={key:1,class:"space-y-8"},V={class:"bg-white rounded-lg shadow-sm border"},P={class:"px-6 py-4 border-b border-gray-200"},W={class:"flex justify-between items-center"},$={class:"p-6"},_={class:"space-y-4"},X=["onDragstart","onDrop"],q={class:"flex items-center justify-between p-4"},K={class:"flex items-center gap-3"},ee={class:"text-lg"},te={class:"font-medium text-gray-900"},le={class:"text-sm text-gray-500"},ae={class:"flex items-center gap-2"},se=["onClick"],oe=["onClick"],re=["onClick"],ne={key:0,class:"px-4 pb-4 border-t border-gray-100"},ie={class:"mt-4"},ue={class:"grid grid-cols-12 gap-3"},de=["onDragstart","onDrop"],ce={class:"aspect-square bg-gray-50 rounded-lg p-2 hover:bg-gray-100 transition-colors"},ge=["src","alt"],pe={class:"text-xs text-center text-gray-600 mt-1 truncate"},ve=["onClick"],me={class:"mt-4"},be=["onClick"],xe={key:2,class:"space-y-8"},ye={class:"bg-white rounded-lg shadow-sm border"},fe={class:"p-6"},he={class:"grid grid-cols-1 md:grid-cols-3 gap-6"},ke={class:"bg-blue-50 rounded-lg p-4"},we={class:"text-2xl font-bold text-blue-600"},Ce={class:"bg-green-50 rounded-lg p-4"},je={class:"text-2xl font-bold text-green-600"},Ie={class:"bg-purple-50 rounded-lg p-4"},Me={class:"text-2xl font-bold text-purple-600"},De={key:3,class:"space-y-8"},ze={class:"space-y-4"},Se={class:"flex gap-2"},Ne=["onClick"],Ee={class:"flex justify-end gap-3 mt-6"},Be={class:"space-y-4"},Te=["value"],Ue={key:0,class:"text-center"},Ae=["src"],Oe={class:"space-y-4"},Fe={class:"flex justify-end gap-3 mt-6"},Re={class:"flex justify-end gap-3 mt-6"},Ge={class:"space-y-4"},Je={class:"flex justify-end gap-3 mt-6"},Le={class:"space-y-4"},Qe=["value"],Ze={class:"flex justify-end gap-3 mt-6"},He={class:"text-gray-600 mb-6"},Ye={class:"flex justify-end gap-3"},Ve={key:5,class:"fixed bottom-4 right-4 bg-green-500 text-white px-6 py-3 rounded-lg shadow-lg z-50"},Pe={key:6,class:"fixed bottom-4 right-4 bg-red-500 text-white px-6 py-3 rounded-lg shadow-lg z-50"},We=e({__name:"Options",setup(e){const k=t(),w=l("settings"),We=[{id:"settings",label:"设置"},{id:"groups",label:"分组管理"},{id:"stats",label:"统计"},{id:"about",label:"关于"}],$e=l(null),_e=l(null),Xe=l(""),qe=l(-1),Ke=l(new Set),et=l(""),tt=l(""),lt=l(!1),at=l(!1),st=l(!1),ot=l(!1),rt=l(!1),nt=l(!1),it=l(!1),ut=l(!1),dt=l(""),ct=l(""),gt=l(null),pt=l("");l("📁");const vt=l("#3B82F6"),mt=["#3B82F6","#10B981","#F59E0B","#EF4444","#8B5CF6","#F97316","#06B6D4","#84CC16"],bt=l(""),xt=l(""),yt=l(""),ft=l(""),ht=l(""),kt=l(""),wt=l(""),Ct=l(""),jt=l(""),It=l(),Mt=l();a(()=>{if(!et.value)return k.groups.flatMap(e=>e.emojis);const e=k.groups.find(e=>e.id===et.value);return e?e.emojis:[]});const Dt=a(()=>k.groups.reduce((e,t)=>{var l;return e+((null==(l=t.emojis)?void 0:l.length)||0)},0)),zt=async()=>{gt.value&&(await k.deleteGroup(gt.value.id),Ht(`分组 "${gt.value.name}" 已删除`),ut.value=!1,gt.value=null)},St=()=>{_e.value=null,Xe.value="",qe.value=-1},Nt=e=>{const t=e.target;k.updateSettings({imageScale:parseInt(t.value)})},Et=e=>{const t=e.target;k.updateSettings({gridColumns:parseInt(t.value)})},Bt=e=>{const t=e.target;k.updateSettings({showSearchBar:t.checked})},Tt=()=>{pt.value.trim()?(k.createGroup(pt.value.trim(),"📁"),pt.value="",vt.value="#3B82F6",lt.value=!1,Ht("分组创建成功")):Yt("请输入分组名称")},Ut=()=>{bt.value&&(xt.value.trim()?(k.updateGroup(bt.value,{name:xt.value.trim(),icon:yt.value||"📁"}),st.value=!1,Ht("分组已更新")):Yt("请输入分组名称"))},At=()=>{if(!ft.value.trim()||!ht.value.trim()||!kt.value)return void Yt("请填写完整的表情信息");const e={packet:Date.now(),name:ft.value.trim(),url:ht.value.trim()};k.addEmoji(kt.value,e),ft.value="",ht.value="",kt.value="",at.value=!1,Ht("表情添加成功")},Ot=()=>{const e={version:"1.0",exportDate:(new Date).toISOString(),settings:k.settings,groups:k.groups},t=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),l=URL.createObjectURL(t),a=document.createElement("a");a.href=l,a.download=`emoji-config-${(new Date).toISOString().split("T")[0]}.json`,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL(l),Ht("配置导出成功")},Ft=e=>{var t;const l=null==(t=e.target.files)?void 0:t[0];if(l){const e=new FileReader;e.onload=e=>{var t;wt.value=null==(t=e.target)?void 0:t.result},e.readAsText(l)}},Rt=e=>{var t;const l=null==(t=e.target.files)?void 0:t[0];if(l){const e=new FileReader;e.onload=e=>{var t;Ct.value=null==(t=e.target)?void 0:t.result},e.readAsText(l)}},Gt=()=>{try{const e=JSON.parse(wt.value);k.importConfiguration(e),wt.value="",ot.value=!1,Ht("配置导入成功")}catch(e){Yt("配置文件格式错误")}},Jt=()=>{try{const e=JSON.parse(Ct.value);if(!Array.isArray(e))return void Yt("表情数据格式错误，应该是数组格式");if(jt.value)e.forEach(e=>{const t={packet:Date.now()+1e3*Math.random(),name:e.name||e.alt||"未命名",url:e.url||e.src};k.addEmoji(jt.value,t)});else{const t=new Map;k.groups.forEach(e=>t.set(e.name,e.id)),e.forEach(e=>{const l=(e.groupId||e.group||"未分组").toString();let a=t.get(l);if(!a){a=k.createGroup(l,"📁").id,t.set(l,a)}const s={packet:Number.isInteger(e.packet)?e.packet:Date.now()+Math.floor(1e3*Math.random()),name:e.name||e.alt||"未命名",url:e.url||e.src};k.addEmoji(a,s)})}Ct.value="",jt.value="",rt.value=!1,Ht(`成功导入 ${e.length} 个表情`)}catch(e){Yt("表情数据格式错误")}},Lt=()=>{confirm("确定要重置所有设置吗？这将清除所有自定义数据。")&&(k.resetToDefaults(),Ht("设置重置成功"))},Qt=async()=>{try{await k.backupToChrome()?Ht("数据已上传到Chrome同步"):Yt("Chrome同步功能不可用")}catch(e){Yt("同步失败，请检查网络连接")}},Zt=e=>{e.target.src="data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNDgiIGhlaWdodD0iNDgiIHZpZXdCb3g9IjAgMCA0OCA0OCIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHJlY3Qgd2lkdGg9IjQ4IiBoZWlnaHQ9IjQ4IiBmaWxsPSIjRjNGNEY2Ii8+CjxwYXRoIGQ9Ik0yNCAzNkMzMC42Mjc0IDM2IDM2IDMwLjYyNzQgMzYgMjRDMzYgMTcuMzcyNiAzMC42Mjc0IDEyIDI0IDEyQzE3LjM3MjYgMTIgMTIgMTcuMzcyNiAxMiAyNEMxMiAzMC42Mjc0IDE3LjM3MjYgMzYgMjQgMzZaIiBzdHJva2U9IiM5Q0EzQUYiIHN0cm9rZS13aWR0aD0iMiIvPgo8cGF0aCBkPSJNMjEgMjFIMjdNMjEgMjdIMjciIHN0cm9rZT0iIzlDQTNBRiIgc3Ryb2tlLXdpZHRoPSIyIiBzdHJva2UtbGluZWNhcD0icm91bmQiLz4KPC9zdmc+"},Ht=e=>{dt.value=e,nt.value=!0,setTimeout(()=>{nt.value=!1},3e3)},Yt=e=>{ct.value=e,it.value=!0,setTimeout(()=>{it.value=!1},3e3)};s(()=>{k.loadData(),k.groups.length>0&&(kt.value=k.groups[0].id,jt.value=k.groups[0].id)});const Vt=()=>{Ct.value=JSON.stringify([{name:"微笑",url:"https://example.com/smile.png",groupId:"常用"},{name:"点赞",url:"https://example.com/thumbs-up.png",groupId:"常用"},{name:"爱心",url:"https://example.com/heart.png",groupId:"红色"}],null,2)};return(e,t)=>{var l;return r(),o("div",C,[n("header",j,[n("div",I,[n("div",M,[t[35]||(t[35]=n("div",null,[n("h1",{class:"text-2xl font-bold text-gray-900"},"表情管理"),n("p",{class:"text-sm text-gray-600"},"管理表情包分组、自定义表情和扩展设置")],-1)),n("div",D,[n("button",{onClick:t[0]||(t[0]=e=>ot.value=!0),class:"px-4 py-2 text-sm bg-gray-100 text-gray-700 rounded-md hover:bg-gray-200 transition-colors"}," 导入配置 "),n("button",{onClick:t[1]||(t[1]=e=>rt.value=!0),class:"px-4 py-2 text-sm bg-purple-100 text-purple-700 rounded-md hover:bg-purple-200 transition-colors"}," 导入表情 "),n("button",{onClick:Lt,class:"px-4 py-2 text-sm bg-orange-100 text-orange-700 rounded-md hover:bg-orange-200 transition-colors"}," 重置设置 "),n("button",{onClick:Qt,class:"px-4 py-2 text-sm bg-green-600 text-white rounded-md hover:bg-green-700 transition-colors"}," 上传到Chrome同步 "),n("button",{onClick:Ot,class:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," 导出配置 ")])])])]),n("nav",z,[n("div",S,[n("div",N,[(r(),o(u,null,d(We,e=>n("button",{key:e.id,onClick:t=>w.value=e.id,class:f(["py-4 px-1 border-b-2 font-medium text-sm transition-colors",w.value===e.id?"border-blue-500 text-blue-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"])},g(e.label),11,E)),64))])])]),n("main",B,["settings"===w.value?(r(),o("div",T,[n("div",U,[t[41]||(t[41]=n("div",{class:"px-6 py-4 border-b border-gray-200"},[n("h2",{class:"text-lg font-semibold text-gray-900"},"全局设置")],-1)),n("div",A,[n("div",O,[t[36]||(t[36]=n("div",null,[n("label",{class:"text-sm font-medium text-gray-900"},"默认图片缩放"),n("p",{class:"text-sm text-gray-500"},"控制插入表情的默认尺寸")],-1)),n("div",F,[n("input",{value:c(k).settings.imageScale,onInput:Nt,type:"range",min:"5",max:"150",step:"5",class:"w-32"},null,40,R),n("span",G,g(c(k).settings.imageScale)+"%",1)])]),n("div",J,[t[38]||(t[38]=n("div",null,[n("label",{class:"text-sm font-medium text-gray-900"},"网格列数"),n("p",{class:"text-sm text-gray-500"},"表情选择器中的列数")],-1)),n("select",{value:c(k).settings.gridColumns,onChange:Et,class:"px-3 py-2 border border-gray-300 rounded-md text-sm focus:outline-none focus:ring-2 focus:ring-blue-500"},[...t[37]||(t[37]=[p('<option value="2">2 列</option><option value="3">3 列</option><option value="4">4 列</option><option value="5">5 列</option><option value="6">6 列</option><option value="8">8 列</option>',6)])],40,L)]),n("div",Q,[t[40]||(t[40]=n("div",null,[n("label",{class:"text-sm font-medium text-gray-900"},"显示搜索框"),n("p",{class:"text-sm text-gray-500"},"在表情选择器中显示搜索功能")],-1)),n("label",Z,[n("input",{type:"checkbox",checked:c(k).settings.showSearchBar,onChange:Bt,class:"sr-only peer"},null,40,H),t[39]||(t[39]=n("div",{class:"relative w-11 h-6 bg-gray-200 rounded-full transition-colors peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-blue-300 peer-checked:bg-blue-600 after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:w-5 after:h-5 after:bg-white after:rounded-full after:transition-all after:border after:border-gray-300 peer-checked:after:translate-x-[20px]"},null,-1))])])])])])):i("",!0),"groups"===w.value?(r(),o("div",Y,[n("div",V,[n("div",P,[n("div",W,[t[42]||(t[42]=n("h2",{class:"text-lg font-semibold text-gray-900"},"表情分组管理",-1)),n("button",{onClick:t[2]||(t[2]=e=>lt.value=!0),class:"px-4 py-2 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 transition-colors"}," 新建分组 ")])]),n("div",$,[n("div",_,[(r(!0),o(u,null,d(c(k).sortedGroups,e=>{var l;return r(),o("div",{key:e.id,class:"group-item border border-gray-200 rounded-lg hover:border-gray-300 transition-colors",draggable:!0,onDragstart:t=>((e,t)=>{$e.value=e,t.dataTransfer&&(t.dataTransfer.effectAllowed="move")})(e,t),onDragover:t[4]||(t[4]=b(()=>{},["prevent"])),onDrop:t=>{return l=e,t.preventDefault(),$e.value&&$e.value.id!==l.id&&(k.reorderGroups($e.value.id,l.id),Ht("分组顺序已更新")),void($e.value=null);var l}},[n("div",q,[n("div",K,[t[43]||(t[43]=n("div",{class:"cursor-move text-gray-400"},"⋮⋮",-1)),n("div",ee,g(e.icon),1),n("div",null,[n("h3",te,g(e.name),1),n("p",le,g((null==(l=e.emojis)?void 0:l.length)||0)+" 个表情",1)])]),n("div",ae,[n("button",{onClick:t=>{return l=e.id,void(Ke.value.has(l)?Ke.value.delete(l):Ke.value.add(l));var l},class:"px-3 py-1 text-sm text-gray-600 hover:bg-gray-50 rounded transition-colors"},g(Ke.value.has(e.id)?"收起":"展开"),9,se),n("button",{onClick:t=>(e=>{bt.value=e.id,xt.value=e.name,yt.value=e.icon,st.value=!0})(e),class:"px-3 py-1 text-sm text-blue-600 hover:bg-blue-50 rounded transition-colors"}," 编辑 ",8,oe),"favorites"!==e.id&&"nachoneko"!==e.id?(r(),o("button",{key:0,onClick:t=>(e=>{gt.value=e,ut.value=!0})(e),class:"px-3 py-1 text-sm text-red-600 hover:bg-red-50 rounded transition-colors"}," 删除 ",8,re)):i("",!0)])]),Ke.value.has(e.id)?(r(),o("div",ne,[n("div",ie,[n("div",ue,[(r(!0),o(u,null,d(e.emojis,(l,a)=>(r(),o("div",{key:`${e.id}-${a}`,class:"emoji-item relative group cursor-move",draggable:!0,onDragstart:t=>((e,t,l,a)=>{_e.value=e,Xe.value=t,qe.value=l,a.dataTransfer&&(a.dataTransfer.effectAllowed="move")})(l,e.id,a,t),onDragover:t[3]||(t[3]=b(()=>{},["prevent"])),onDrop:t=>{return l=e.id,s=a,t.preventDefault(),_e.value&&Xe.value&&(k.moveEmoji(Xe.value,qe.value,l,s),Ht("表情已移动")),void St();var l,s}},[n("div",ce,[n("img",{src:l.url,alt:l.name,class:"w-full h-full object-contain rounded",style:{width:"48px",height:"48px"}},null,8,ge)]),n("div",pe,g(l.name),1),n("button",{onClick:t=>((e,t)=>{k.removeEmojiFromGroup(e,t),Ht("表情已删除")})(e.id,a),class:"absolute -top-1 -right-1 w-5 h-5 bg-red-500 text-white rounded-full text-xs opacity-0 group-hover:opacity-100 transition-opacity"}," × ",8,ve)],40,de))),128))]),n("div",me,[n("button",{onClick:t=>{at.value=!0,tt.value=e.id},class:"px-3 py-2 text-sm border border-dashed border-gray-300 rounded-lg hover:border-gray-400 transition-colors w-full"}," + 添加表情 ",8,be)])])])):i("",!0)],40,X)}),128))])])])])):i("",!0),"stats"===w.value?(r(),o("div",xe,[n("div",ye,[t[47]||(t[47]=n("div",{class:"px-6 py-4 border-b border-gray-200"},[n("h2",{class:"text-lg font-semibold text-gray-900"},"使用统计")],-1)),n("div",fe,[n("div",he,[n("div",ke,[n("div",we,g(c(k).groups.length),1),t[44]||(t[44]=n("div",{class:"text-sm text-blue-800"},"表情分组",-1))]),n("div",Ce,[n("div",je,g(Dt.value),1),t[45]||(t[45]=n("div",{class:"text-sm text-green-800"},"总表情数",-1))]),n("div",Ie,[n("div",Me,g(c(k).favorites.size),1),t[46]||(t[46]=n("div",{class:"text-sm text-purple-800"},"收藏表情",-1))])])])])])):i("",!0),"about"===w.value?(r(),o("div",De,[...t[48]||(t[48]=[p('<div class="bg-white rounded-lg shadow-sm border"><div class="px-6 py-4 border-b border-gray-200"><h2 class="text-lg font-semibold text-gray-900">关于扩展</h2></div><div class="p-6 space-y-4"><div><h3 class="font-medium text-gray-900">表情包扩展</h3><p class="text-sm text-gray-600">版本 1.0.0</p></div><div><h3 class="font-medium text-gray-900">功能特色</h3><ul class="text-sm text-gray-600 space-y-1 mt-2"><li>• 支持多分组表情管理</li><li>• 拖拽排序和重新组织</li><li>• Chrome 同步支持</li><li>• 响应式设计，触屏优化</li><li>• 实时搜索和过滤</li></ul></div></div></div>',1)])])):i("",!0),i("",!0),i("",!0)]),lt.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[11]||(t[11]=e=>lt.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-md",onClick:t[10]||(t[10]=b(()=>{},["stop"]))},[t[55]||(t[55]=n("h3",{class:"text-lg font-semibold mb-4"},"新建分组",-1)),n("div",ze,[n("div",null,[t[53]||(t[53]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分组名称",-1)),v(n("input",{"onUpdate:modelValue":t[8]||(t[8]=e=>pt.value=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入分组名称"},null,512),[[m,pt.value]])]),n("div",null,[t[54]||(t[54]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分组颜色",-1)),n("div",Se,[(r(),o(u,null,d(mt,e=>n("div",{key:e,class:f(["w-8 h-8 rounded cursor-pointer border-2",vt.value===e?"border-gray-900":"border-gray-300"]),style:h({backgroundColor:e}),onClick:t=>vt.value=e},null,14,Ne)),64))])])]),n("div",Ee,[n("button",{onClick:t[9]||(t[9]=e=>lt.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"}," 取消 "),n("button",{onClick:Tt,class:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," 创建 ")])])])):i("",!0),at.value?(r(),o("div",{key:1,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[22]||(t[22]=e=>at.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-md",onClick:t[21]||(t[21]=b(()=>{},["stop"]))},[t[62]||(t[62]=n("h3",{class:"text-lg font-semibold mb-4"},"添加表情",-1)),n("div",Be,[n("div",null,[t[56]||(t[56]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"表情名称",-1)),v(n("input",{"onUpdate:modelValue":t[12]||(t[12]=e=>ft.value=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入表情名称"},null,512),[[m,ft.value]])]),n("div",null,[t[57]||(t[57]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"图片URL",-1)),v(n("input",{"onUpdate:modelValue":t[13]||(t[13]=e=>ht.value=e),type:"url",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"输入图片链接"},null,512),[[m,ht.value]])]),n("div",null,[t[58]||(t[58]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"所属分组",-1)),v(n("select",{"onUpdate:modelValue":t[14]||(t[14]=e=>kt.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[(r(!0),o(u,null,d(c(k).groups,e=>(r(),o("option",{key:e.id,value:e.id},g(e.name),9,Te))),128))],512),[[x,kt.value]])]),ht.value?(r(),o("div",Ue,[n("img",{src:ht.value,alt:"预览",class:"w-16 h-16 object-contain mx-auto border border-gray-200 rounded",onError:Zt},null,40,Ae)])):i("",!0)]),st.value?(r(),o("div",{key:0,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[19]||(t[19]=e=>st.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-md",onClick:t[18]||(t[18]=b(()=>{},["stop"]))},[t[61]||(t[61]=n("h3",{class:"text-lg font-semibold mb-4"},"编辑分组",-1)),n("div",Oe,[n("div",null,[t[59]||(t[59]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分组名称",-1)),v(n("input",{"onUpdate:modelValue":t[15]||(t[15]=e=>xt.value=e),type:"text",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[m,xt.value]])]),n("div",null,[t[60]||(t[60]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"分组图标/表情",-1)),v(n("input",{"onUpdate:modelValue":t[16]||(t[16]=e=>yt.value=e),type:"text",placeholder:"例如：😀 或 📁",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,512),[[m,yt.value]])])]),n("div",Fe,[n("button",{onClick:t[17]||(t[17]=e=>st.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"},"取消"),n("button",{onClick:Ut,class:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"},"保存")])])])):i("",!0),n("div",Re,[n("button",{onClick:t[20]||(t[20]=e=>at.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"}," 取消 "),n("button",{onClick:At,class:"px-4 py-2 text-sm bg-green-600 text-white rounded hover:bg-green-700 transition-colors"}," 添加 ")])])])):i("",!0),ot.value?(r(),o("div",{key:2,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[26]||(t[26]=e=>ot.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-lg",onClick:t[25]||(t[25]=b(()=>{},["stop"]))},[t[65]||(t[65]=n("h3",{class:"text-lg font-semibold mb-4"},"导入配置",-1)),n("div",Ge,[n("div",null,[t[63]||(t[63]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"配置文件",-1)),n("input",{ref_key:"importFileInput",ref:It,type:"file",accept:".json",onChange:Ft,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544)]),n("div",null,[t[64]||(t[64]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"或粘贴JSON配置",-1)),v(n("textarea",{"onUpdate:modelValue":t[23]||(t[23]=e=>wt.value=e),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"粘贴JSON配置内容..."},null,512),[[m,wt.value]])])]),n("div",Je,[n("button",{onClick:t[24]||(t[24]=e=>ot.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"}," 取消 "),n("button",{onClick:Gt,class:"px-4 py-2 text-sm bg-blue-600 text-white rounded hover:bg-blue-700 transition-colors"}," 导入 ")])])])):i("",!0),rt.value?(r(),o("div",{key:3,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[31]||(t[31]=e=>rt.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-lg",onClick:t[30]||(t[30]=b(()=>{},["stop"]))},[t[72]||(t[72]=n("h3",{class:"text-lg font-semibold mb-4"},"批量导入表情",-1)),n("div",Le,[n("div",null,[t[66]||(t[66]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"表情文件",-1)),n("input",{ref_key:"importEmojiFileInput",ref:Mt,type:"file",accept:".json",onChange:Rt,class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},null,544)]),n("div",null,[t[68]||(t[68]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"或粘贴表情JSON",-1)),v(n("textarea",{"onUpdate:modelValue":t[27]||(t[27]=e=>Ct.value=e),rows:"6",class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500",placeholder:"粘贴表情JSON内容..."},null,512),[[m,Ct.value]]),n("div",{class:"mt-2 text-xs text-gray-500"},[t[67]||(t[67]=y(" 示例： ",-1)),n("button",{class:"ml-2 text-blue-600 hover:underline",onClick:Vt},"填充示例")])]),n("div",null,[t[70]||(t[70]=n("label",{class:"block text-sm font-medium text-gray-700 mb-1"},"目标分组（可选）",-1)),v(n("select",{"onUpdate:modelValue":t[28]||(t[28]=e=>jt.value=e),class:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500"},[t[69]||(t[69]=n("option",{value:""},"自动按分组创建",-1)),(r(!0),o(u,null,d(c(k).groups,e=>(r(),o("option",{key:e.id,value:e.id},g(e.name),9,Qe))),128))],512),[[x,jt.value]]),t[71]||(t[71]=n("p",{class:"mt-1 text-xs text-gray-500"},"留空将根据JSON中的 groupId 自动创建/归类到分组",-1))])]),n("div",Ze,[n("button",{onClick:t[29]||(t[29]=e=>rt.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"}," 取消 "),n("button",{onClick:Jt,class:"px-4 py-2 text-sm bg-purple-600 text-white rounded hover:bg-purple-700 transition-colors"}," 导入 ")])])])):i("",!0),ut.value?(r(),o("div",{key:4,class:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",onClick:t[34]||(t[34]=e=>ut.value=!1)},[n("div",{class:"bg-white rounded-lg p-6 w-full max-w-md",onClick:t[33]||(t[33]=b(()=>{},["stop"]))},[t[73]||(t[73]=n("h3",{class:"text-lg font-semibold mb-4"},"确认删除",-1)),n("p",He,'确定要删除分组 "'+g(null==(l=gt.value)?void 0:l.name)+'" 吗？分组中的表情也会被删除。',1),n("div",Ye,[n("button",{onClick:t[32]||(t[32]=e=>ut.value=!1),class:"px-4 py-2 text-sm text-gray-600 hover:bg-gray-100 rounded transition-colors"}," 取消 "),n("button",{onClick:zt,class:"px-4 py-2 text-sm bg-red-600 text-white rounded hover:bg-red-700 transition-colors"}," 删除 ")])])])):i("",!0),nt.value?(r(),o("div",Ve,g(dt.value),1)):i("",!0),it.value?(r(),o("div",Pe,g(ct.value),1)):i("",!0)])}}}),$e=k(),_e=w(We);_e.use($e),_e.mount("#app");
