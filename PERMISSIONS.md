# 权限说明文档

本扩展请求的权限及其用途说明：

## 必需权限 (Required Permissions)

### 1. `storage`
**用途：** 存储用户的表情数据、分组设置、收藏夹和扩展配置
- 保存用户自定义的表情分组
- 存储从 Bilibili、Tenor、Waline 等平台导入的表情
- 保存用户的个性化设置（主题、缩放、默认分组等）
- 记录表情使用频率和历史记录

### 2. `activeTab`
**用途：** 在当前活动标签页中插入表情
- 获取当前页面的输入框位置
- 在 Discord、Reddit、X（Twitter）、小红书等网站的输入框中插入表情
- 与页面内容脚本通信以实现表情快速插入功能

### 3. `scripting`
**用途：** 在网页中注入内容脚本以实现表情插入功能
- 动态注入表情选择器 UI
- 监听页面输入框的焦点事件
- 在支持的网站上添加表情按钮
- 处理表情的插入逻辑

### 4. `downloads`
**用途：** 导出表情数据和配置
- 导出表情分组为 JSON 文件
- 导出表情为 ZIP 压缩包
- 批量下载表情图片
- 备份用户数据

## 可选权限 (Optional Permissions)

### 5. `cookies` (可选)
**用途：** 访问特定网站的 Cookie 以支持高级功能
- 从 Bilibili 等平台导入用户的自定义表情包（需要登录状态）
- 在某些平台上获取用户授权的表情资源
- 此权限为可选，不使用相关功能时不会请求

## 主机权限 (Host Permissions)

### `<all_urls>`
**用途：** 在所有网站上提供表情插入功能
- 支持在主流社交媒体和论坛网站插入表情：
  - Discord
  - Reddit
  - X (Twitter)
  - 小红书 (xiaohongshu)
  - Discourse 论坛
  - Pixiv
  - Bilibili
- 允许用户在任意输入框使用表情
- 从各平台导入表情资源

**注意：** 扩展只会在用户主动使用表情功能时访问网页内容，不会收集或上传任何个人数据。

## 数据隐私承诺

✅ **不收集个人信息：** 所有数据仅存储在本地
✅ **不上传数据：** 不会向服务器发送用户数据
✅ **开源透明：** 代码完全开源，可在 GitHub 审查
✅ **可导出数据：** 用户随时可以导出或删除自己的数据

## 如何检查权限

您可以在浏览器扩展管理页面查看和管理本扩展的权限：
- Chrome: `chrome://extensions/`
- Edge: `edge://extensions/`
- Firefox: `about:addons`

## 问题反馈

如果您对权限有任何疑问或建议，请在 GitHub 提交 Issue：
https://github.com/stevessr/bug-v3/issues
